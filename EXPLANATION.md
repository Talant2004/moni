# Объяснение незавершенных задач

## 1. Анимированные карты — заглушка

### Что это такое?
Анимированная карта показывает, как саранча распространялась во времени. Например:
- **1 мая 2020**: саранча обнаружена в районе А
- **5 мая 2020**: распространилась в район Б  
- **10 мая 2020**: достигла района В
- **15 мая 2020**: охватила район Г

Карта показывает это движение с анимацией - точки появляются и расширяются по мере распространения.

### Что сейчас есть?
На странице детального просмотра нашествия (например, `/invasions/1`) есть серый блок с текстом:
```
"Анимированная карта распространения будет отображаться здесь"
```

Это **заглушка** - место, где будет карта, но сама карта еще не реализована.

### Что нужно для реализации?

#### 1. Данные в базе данных
Нужно хранить данные о распространении по датам:
```sql
CREATE TABLE invasion_spread (
  id INTEGER,
  invasion_id INTEGER,
  date DATE,
  latitude REAL,
  longitude REAL,
  density REAL  -- плотность заселения
)
```

#### 2. Компонент анимации
Нужно создать React компонент, который:
- Загружает данные о распространении
- Показывает карту с точками
- Имеет кнопки "Play/Pause" для анимации
- Имеет временную шкалу (слайдер дат)
- Анимирует появление точек на карте

#### 3. Пример кода (упрощенный)
```tsx
<AnimatedMap invasionId={invasion.id}>
  <TimeSlider />  {/* Слайдер для выбора даты */}
  <PlayButton />   {/* Кнопка воспроизведения */}
  <Map>            {/* Карта с точками */}
    {data.map(point => (
      <Marker 
        date={point.date}
        position={[point.lat, point.lng]}
        density={point.density}
      />
    ))}
  </Map>
</AnimatedMap>
```

### Почему не реализовано?
- Нужны реальные данные о распространении (координаты, даты)
- Требуется разработка компонента анимации
- Это сложная функциональность, требующая времени

---

## 2. ГИС сервер — инфраструктурная задача

### Что это такое?
**ГИС** = Геоинформационная система

ГИС сервер - это отдельный сервер, который:
- Хранит геоданные (карты, границы, координаты)
- Отдает эти данные в специальных форматах (WMS, WFS, GeoJSON)
- Позволяет накладывать слои на карты

### Что сейчас есть?
Сайт использует базовые карты **OpenStreetMap** через библиотеку **Leaflet**:
- Это публичные карты всего мира
- Они работают "из коробки"
- Но не содержат специальных данных о саранче

### Что нужно для ГИС сервера?

#### 1. Развернуть сервер
Нужно установить и настроить ГИС сервер, например:
- **GeoServer** (бесплатный, популярный)
- **MapServer** (альтернатива)
- Или облачный сервис

#### 2. Загрузить данные
Нужно загрузить на сервер:
- Границы областей/районов Казахстана
- Данные о распространении саранчи
- Данные о погоде
- Другие геоданные

#### 3. Настроить слои
Создать слои карт:
- Слой "Границы областей"
- Слой "Распространение саранчи 2020"
- Слой "Распространение саранчи 2021"
- Слой "Погодные данные"

#### 4. Интегрировать с сайтом
Подключить сервер к сайту через API:
```tsx
<TileLayer
  url="https://gis-server.example.com/wms?layer=locust-2020"
/>
```

### Почему это инфраструктурная задача?

Это **не просто код**, а:
1. **Отдельный сервер** - нужен хостинг/сервер для ГИС
2. **Настройка** - нужно установить и настроить программное обеспечение
3. **Данные** - нужно подготовить и загрузить геоданные
4. **Администрирование** - нужно поддерживать сервер

Это похоже на то, что нужно:
- Не просто написать код для сайта
- А еще и настроить отдельный сервер для карт
- Как если бы вы делали сайт, но еще нужен отдельный сервер для хранения фотографий

### Можно ли без ГИС сервера?
Да, можно использовать:
- Базовые карты OpenStreetMap (как сейчас)
- Загружать данные напрямую в базу данных
- Отображать их на карте через Leaflet

Но ГИС сервер дает:
- Более мощные возможности
- Оптимизацию для больших данных
- Стандартные форматы обмена данными
- Возможность использовать готовые ГИС инструменты

---

## Итого

### Анимированные карты
- **Что:** Компонент для показа динамики распространения
- **Статус:** Заглушка на месте
- **Нужно:** Данные + разработка компонента
- **Сложность:** Средняя (программирование)

### ГИС сервер
- **Что:** Отдельный сервер для геоданных
- **Статус:** Не развернут
- **Нужно:** Сервер + настройка + данные
- **Сложность:** Высокая (инфраструктура + администрирование)

---

## Что можно сделать сейчас?

### Для анимированных карт:
1. Создать простую версию без анимации (статичные карты по датам)
2. Добавить временную шкалу для переключения между датами
3. Позже добавить анимацию

### Для ГИС сервера:
1. Продолжать использовать OpenStreetMap (работает)
2. Хранить данные в базе данных (уже есть)
3. Отображать на карте через Leaflet (уже работает)
4. ГИС сервер можно добавить позже, когда понадобятся расширенные возможности





